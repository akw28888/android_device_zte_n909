From 105fa4b32343878dc828df121b41cde354d002dc Mon Sep 17 00:00:00 2001
From: nx111 <gd.zhangdz@gmail.com>
Date: Wed, 26 Nov 2014 09:32:17 +0800
Subject: [PATCH] allow cdma and gsm all in one phone.

Change-Id: I7eb513cf04fdf2ee992ff4e4dc697220a981ebaa
---
 res/values-zh-rCN/strings.xml                    |  4 ++++
 res/values/strings.xml                           | 26 ++++++++++++++++++++----
 src/com/android/phone/MobileNetworkSettings.java |  2 +-
 3 files changed, 27 insertions(+), 5 deletions(-)

diff --git a/res/values-zh-rCN/strings.xml b/res/values-zh-rCN/strings.xml
index 1b9b69e..6e01d9b 100644
--- a/res/values-zh-rCN/strings.xml
+++ b/res/values-zh-rCN/strings.xml
@@ -287,6 +287,10 @@
     <string name="multi_category_disable" msgid="880104702904139505">"已停用多类别"</string>
     <string name="network_lte" msgid="7702681952521375754">"LTE（建议）"</string>
     <string name="network_4G" msgid="2723512640529983138">"4G（建议）"</string>
+    <string name="network_3G">WCDMA  (3G)</string>
+    <string name="network_2G">GSM    (2G)</string>
+    <string name="network_1x">CDMA   (2G)</string>
+    <string name="network_cdma">CDMA   (自动)</string>
     <string name="network_global" msgid="1323190488685355309">"通用"</string>
     <string name="cdma_system_select_title" msgid="5757657769327732833">"系统选择"</string>
     <string name="cdma_system_select_summary" msgid="60460043745797517">"更改 CDMA 漫游模式"</string>
diff --git a/res/values/strings.xml b/res/values/strings.xml
index 462a9fa..2451353 100644
--- a/res/values/strings.xml
+++ b/res/values/strings.xml
@@ -532,9 +532,10 @@
 
     <string name="network_lte">LTE (recommended)</string>
     <string name="network_4G">4G (recommended)</string>
-    <string name="network_3G" translatable="false">3G</string>
-    <string name="network_2G" translatable="false">2G</string>
-    <string name="network_1x" translatable="false">1x</string>
+    <string name="network_3G">3G</string>
+    <string name="network_2G">2G</string>
+    <string name="network_1x">1x</string>
+    <string name="network_cdma">CDMA</string>
     <string name="network_global">Global</string>
 
     <string-array name="enabled_networks_except_gsm_choices" translatable="false">
@@ -553,10 +554,16 @@
     <string-array name="enabled_networks_except_lte_choices" translatable="false">
         <item>@string/network_3G</item>
         <item>@string/network_2G</item>
+        <item>@string/network_1x</item>
+        <item>@string/network_cdma</item>
+        <item>@string/network_global</item>
     </string-array>
     <string-array name="enabled_networks_except_lte_values" translatable="false">
         <item>"0"</item>
         <item>"1"</item>
+        <item>"5"</item>
+        <item>"4"</item>
+        <item>"10"</item>
     </string-array>
 
     <string-array name="enabled_networks_except_gsm_lte_choices" translatable="false">
@@ -570,21 +577,29 @@
         <item>@string/network_lte</item>
         <item>@string/network_3G</item>
         <item>@string/network_2G</item>
+        <item>@string/network_1x</item>
+        <item>@string/network_cdma</item>
+        <item>@string/network_global</item>
     </string-array>
     <string-array name="enabled_networks_4g_choices" translatable="false">
         <item>@string/network_4G</item>
         <item>@string/network_3G</item>
         <item>@string/network_2G</item>
+        <item>@string/network_1x</item>
+        <item>@string/network_cdma</item>
     </string-array>
     <string-array name="enabled_networks_values" translatable="false">
         <item>"9"</item>
         <item>"0"</item>
         <item>"1"</item>
+        <item>"5"</item>
+        <item>"4"</item>
+        <item>"10"</item>
     </string-array>
 
     <string-array name="enabled_networks_cdma_choices" translatable="false">
         <item>@string/network_lte</item>
-        <item>@string/network_3G</item>
+        <item>@string/network_cdma</item>
         <item>@string/network_1x</item>
         <item>@string/network_global</item>
     </string-array>
@@ -629,6 +644,9 @@
     <string-array name="cdma_subscription_values">
         <item>"0"</item>
         <item>"1"</item>
+        <item>"5"</item>
+        <item>"4"</item>
+        <item>"10"</item>
     </string-array>
     <!-- Preference title with which users can activate CDMA network [CHAR LIMIT=30] -->
     <string name="cdma_activate_device">Activate device</string>
diff --git a/src/com/android/phone/MobileNetworkSettings.java b/src/com/android/phone/MobileNetworkSettings.java
index c4cbb5c..9091a6d 100644
--- a/src/com/android/phone/MobileNetworkSettings.java
+++ b/src/com/android/phone/MobileNetworkSettings.java
@@ -885,7 +885,7 @@ public class MobileNetworkSettings extends PreferenceActivity
             case Phone.NT_MODE_EVDO_NO_CDMA:
                 mButtonEnabledNetworks.setValue(
                         Integer.toString(Phone.NT_MODE_CDMA));
-                mButtonEnabledNetworks.setSummary(R.string.network_3G);
+                mButtonEnabledNetworks.setSummary(R.string.network_cdma);
                 break;
             case Phone.NT_MODE_CDMA_NO_EVDO:
                 mButtonEnabledNetworks.setValue(
-- 
1.9.1

