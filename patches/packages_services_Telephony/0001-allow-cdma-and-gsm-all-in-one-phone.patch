From f95897f3a93c01ac9dfe889d5abf04bf9e065406 Mon Sep 17 00:00:00 2001
From: nx111 <gd.zhangdz@gmail.com>
Date: Wed, 8 Oct 2014 01:44:36 +0800
Subject: [PATCH] allow cdma and gsm all in one phone.

Change-Id: I617101ae4c1e17be80038e313983c237267aa377
---
 res/values-zh-rCN/cm_strings.xml                 | 183 +++++++++++------------
 res/values-zh-rCN/strings.xml                    |   4 +
 res/values/strings.xml                           |  26 +++-
 src/com/android/phone/MobileNetworkSettings.java |   2 +-
 4 files changed, 111 insertions(+), 104 deletions(-)

diff --git a/res/values-zh-rCN/cm_strings.xml b/res/values-zh-rCN/cm_strings.xml
index 9857e68..6097b32 100644
--- a/res/values-zh-rCN/cm_strings.xml
+++ b/res/values-zh-rCN/cm_strings.xml
@@ -1,24 +1,7 @@
-<?xml version="1.0" encoding="utf-8"?>
-<!--Generated by crowdin.com-->
-<!--
-     Copyright (C) 2013-2014 The CyanogenMod Project
-     Copyright (c) 2012, The Linux Foundation. All rights reserved.
-
-     Licensed under the Apache License, Version 2.0 (the "License");
-     you may not use this file except in compliance with the License.
-     You may obtain a copy of the License at
-
-          http://www.apache.org/licenses/LICENSE-2.0
-
-     Unless required by applicable law or agreed to in writing, software
-     distributed under the License is distributed on an "AS IS" BASIS,
-     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-     See the License for the specific language governing permissions and
-     limitations under the License.
--->
-<resources xmlns:xliff="urn:oasis:names:tc:xliff:document:1.2">
+<?xml version='1.0' encoding='utf-8'?>
+<resources xmlns:ns0="urn:oasis:names:tc:xliff:document:1.2">
   <string name="call_notif_unconditionalCF">启用无条件的来电转接</string>
-  <string name="call_notif_conditionalCF">启用有条件的来电转接</string>
+  <string name="call_notif_conditionalCF">条件转接启用</string>
   <string name="call_notif_MOcall_forwarding">呼出电话已被转接</string>
   <string name="call_notif_cugcall">在封闭用户组内通话</string>
   <string name="call_notif_outgoing_barred">呼出电话被禁止</string>
@@ -31,12 +14,12 @@
   <string name="call_notif_forwardcheckreceived">呼叫被转接</string>
   <string name="call_notif_callconnectingect">呼叫正在通过显式呼叫转移进行连接</string>
   <string name="call_notif_callconnectedect">呼叫已通过显式呼叫转移连接</string>
-  <string name="incall_vibration">来电振动</string>
-  <string name="vibrate_outgoing">对方接听时振动</string>
-  <string name="vibrate_call_waiting">呼叫等待时振动</string>
-  <string name="vibrate_hangup">通话结束时振动</string>
-  <string name="vibrate_45">每分钟振动</string>
-  <string name="vibrate_45_sum">呼出通话达到每分钟的 45 秒时振动</string>
+  <string name="incall_vibration">来电震动</string>
+  <string name="vibrate_outgoing">对方接听时震动</string>
+  <string name="vibrate_call_waiting">呼叫等待时震动</string>
+  <string name="vibrate_hangup">通话结束时震动</string>
+  <string name="vibrate_45">每分钟震动</string>
+  <string name="vibrate_45_sum">呼出通话达到每分钟的 45 秒时震动</string>
   <string name="show_ssn_label">事件提醒</string>
   <string name="show_ssn_summary">为通话处理相关的各种网络事件显示一个通知</string>
   <string name="blacklist_title">黑名单</string>
@@ -45,11 +28,11 @@
   <string name="blacklist_call_notification">阻挡了 %s 的来电</string>
   <string name="blacklist_call_notification_private_number">阻挡了一个私人号码的来电</string>
   <string name="blacklist_call_notification_unknown_number">阻挡了未知号码 %s</string>
-  <string name="blacklist_call_notification_multiple"><xliff:g id="count">%d</xliff:g> 个来电被阻挡</string>
+  <string name="blacklist_call_notification_multiple"><ns0:g id="count">%d</ns0:g> 个来电被阻挡</string>
   <string name="blacklist_message_notification">来自于 %s 的信息已被阻止</string>
   <string name="blacklist_message_notification_private_number">阻止来自于私人号码的信息</string>
   <string name="blacklist_message_notification_unknown_number">来自于未知号码 %s 的信息已阻止</string>
-  <string name="blacklist_message_notification_multiple">已阻止<xliff:g id="count">%d</xliff:g> 条信息</string>
+  <string name="blacklist_message_notification_multiple">已阻止<ns0:g id="count">%d</ns0:g> 条信息</string>
   <string name="blacklist_notification_list_private">私人号码</string>
   <string name="unblock_number">不阻挡号码</string>
   <string name="mwi_notification_title">信息等待指示器</string>
@@ -60,81 +43,82 @@
   <string name="phone_number_summary">设定电话号码</string>
   <string name="noise_suppression_title">噪音抑制</string>
   <string name="noise_suppression_summary">启用噪音抑制</string>
-  <string name="preferred_network_mode_td_scdma_only">仅使用 TD-SCDMA</string>
+  <string name="preferred_network_mode_td_scdma_only">TD-SCDMA</string>
   <string name="preferred_network_mode_global">全球</string>
-  <string name="preferred_network_mode_evdo_only">仅使用 EvDo</string>
-  <string name="preferred_network_mode_cdma_without_evdo">CDMA，无 EvDo 功能</string>
-  <string name="preferred_network_mode_cdma_evdo_auto">自动选择 CDMA/EvDo</string>
-  <string name="preferred_network_mode_gsm_wcdma_auto">自动选择 GSM/WCDMA</string>
-  <string name="preferred_network_mode_wcdma_only">仅使用 WCDMA</string>
-  <string name="preferred_network_mode_gsm_only">仅 GSM</string>
-  <string name="preferred_network_mode_gsm_wcdma_preferred">首选 GSM/WCDMA</string>
-  <string name="number_lookup">电话号码查询</string>
-  <string name="enable_forward_lookup_title">正向查询</string>
-  <string name="enable_forward_lookup_summary">在拨号器搜索时显示附近地点</string>
-  <string name="enable_people_lookup_title">人名查询</string>
-  <string name="enable_people_lookup_summary">在拨号器中搜索时，即时显示搜索联系人结果</string>
-  <string name="enable_reverse_lookup_title">反向查询</string>
-  <string name="enable_reverse_lookup_summary">为未知来电号码查询人名或地点信息</string>
-  <string name="choose_lookup_providers">选择查询提供商</string>
-  <string name="choose_forward_lookup_provider_title">正向查询提供商</string>
-  <string name="choose_people_lookup_provider_title">人名查询提供商</string>
-  <string name="choose_reverse_lookup_provider_title">反向查询提供商</string>
-  <string name="sub_no_sim">无 SIM 卡</string>
-  <string name="msim_call_selector_title">拨打 <xliff:g id="number">%s</xliff:g> 通过</string>
-  <string name="msim_call_selector_item">SIM<xliff:g id="index">%1$d</xliff:g>: <xliff:g id="operator">%2$s</xliff:g></string>
-  <string name="cyngn_reverse_lookup_provider_name">Cyngn 中国 (CN)</string>
-  <string name="preference_category_t9_dialpad_search">拨号盘 T9 搜索</string>
+  <string name="preferred_network_mode_evdo_only">EvDo</string>
+  <string name="preferred_network_mode_cdma_without_evdo">CDMA w/o EvDo</string>
+  <string name="preferred_network_mode_cdma_evdo_auto">CDMA/EvDo 自动</string>
+  <string name="preferred_network_mode_gsm_wcdma_auto">GSM/WCDMA 自动</string>
+  <string name="preferred_network_mode_wcdma_only">WCDMA</string>
+  <string name="preferred_network_mode_gsm_only">GSM</string>
+  <string name="preferred_network_mode_gsm_wcdma_preferred">GSM/WCDMA首选</string>
+  <string name="number_lookup">号码查找</string>
+  <string name="enable_forward_lookup_title">正向查找</string>
+  <string name="enable_forward_lookup_summary">在电话中搜索时显示最近位置</string>
+  <string name="enable_people_lookup_title">人员查找</string>
+  <string name="enable_people_lookup_summary">在电话中搜索人员时显示在线结果</string>
+  <string name="enable_reverse_lookup_title">反向查找</string>
+  <string name="enable_reverse_lookup_summary">查找未知号码来电的人员或位置信息</string>
+  <string name="choose_lookup_providers">选择查找提供者</string>
+  <string name="choose_forward_lookup_provider_title">选择正向查找提供者</string>
+  <string name="choose_people_lookup_provider_title">选择人员查找提供者</string>
+  <string name="choose_reverse_lookup_provider_title">选择反向查找提供者</string>
+  <string name="sub_no_sim">无SIM卡</string>
+  <string name="msim_call_selector_title">呼叫<ns0:g id="number">%s</ns0:g> 通过</string>
+  <string name="msim_call_selector_item">SIM<ns0:g id="index">%1$d</ns0:g>: <ns0:g id="operator">%2$s</ns0:g>
+  </string>
+  <string name="cyngn_reverse_lookup_provider_name">Cyngn Chinese (CN)</string>
+  <string name="preference_category_t9_dialpad_search">拨号面板T9搜索</string>
   <string name="t9_search_input_locale">T9 搜索输入</string>
   <string name="t9_search_input_locale_default">默认</string>
-  <string name="incoming_call_style_title">来电屏幕样式</string>
+  <string name="incoming_call_style_title">来电屏幕风格</string>
   <string name="incoming_call_style_classic">经典</string>
-  <string name="incoming_call_style_fullscreen_photo">全屏来电者照片</string>
-  <string name="network_forbidden">（禁止）</string>
-  <string name="proximity_mode_title">启用距离传感器</string>
-  <string name="proximity_on_summary">在通话时，使用距离传感器来关闭屏幕</string>
-  <string name="proximity_off_summary">在通话时，屏幕将保持开启</string>
-  <string name="call_barring">电话拦截</string>
-  <string name="call_barring_off">关</string>
-  <string name="call_barring_outgoing">去电拦截</string>
+  <string name="incoming_call_style_fullscreen_photo">全屏呼叫者照片</string>
+  <string name="network_forbidden">(禁止)</string>
+  <string name="proximity_mode_title">打开距离传感器</string>
+  <string name="proximity_on_summary">接听电话时，屏幕会关闭，从而节省电量</string>
+  <string name="proximity_off_summary">接听电话时，屏幕保持开启状态</string>
+  <string name="call_barring">呼叫限制</string>
+  <string name="call_barring_off">Off</string>
+  <string name="call_barring_outgoing">呼出限制</string>
   <string name="call_barring_outgoing_international_roaming">国际漫游呼叫</string>
-  <string name="call_barring_outgoing_international">国际长途</string>
-  <string name="call_barring_outgoing_all">所有拨出呼叫</string>
-  <string name="call_barring_incoming">来电拦截</string>
-  <string name="call_barring_incoming_roaming">在漫游时</string>
-  <string name="call_barring_incoming_all">所有传入呼叫</string>
+  <string name="call_barring_outgoing_international">国际呼叫</string>
+  <string name="call_barring_outgoing_all">所有拨出</string>
+  <string name="call_barring_incoming">呼入限制</string>
+  <string name="call_barring_incoming_roaming">漫游时</string>
+  <string name="call_barring_incoming_all">所有呼入</string>
   <string name="input_password">输入密码</string>
-  <string name="psw_enter_old">当前密码</string>
-  <string name="labelCbChangePassword">修改密码</string>
+  <string name="psw_enter_old">旧密码</string>
+  <string name="labelCbChangePassword">修改限制密码</string>
   <string name="psw_enter_new">新密码</string>
-  <string name="invalidPsw">输入您的密码（4 至 8 位数字）</string>
-  <string name="psw_reenter_new">确认新密码</string>
-  <string name="cb_psw_dont_match">密码不匹配</string>
-  <string name="operation_successfully">操作已成功完成</string>
-  <string name="emergency_call_list_title">紧急呼叫列表</string>
-  <string name="emergency_call">呼叫</string>
-  <string name="new_emergency_number">新紧急号码</string>
-  <string name="emergency_call_number">紧急呼叫号码</string>
-  <string name="emergency_number_exist">输入的紧急号码已经存在。</string>
-  <string name="emergency_number_save_error">输入的紧急号码太长。</string>
-  <string name="ipcall_sub_title">IP 呼叫拨号前缀</string>
-  <string name="ipcall_sub_summery">编辑通过 IP 服务呼叫的前缀</string>
-  <string name="ipcall_dialog_title">IP 呼叫设置</string>
-  <string name="ipcall_dialog_edit_hint">IP 呼叫拨号前缀</string>
-  <string name="notification_missedVideoCallTitle">未接视频呼叫</string>
-  <string name="notification_missedVideoCallsTitle">未接视频呼叫</string>
-  <string name="notification_missedVideoCallsMsg"><xliff:g id="num_missed_calls">%1$s</xliff:g> 个未接的视频呼叫</string>
-  <string name="notification_missedVideoCallTicker">错过了来自 <xliff:g id="missed_call_from">%1$s</xliff:g> 的视频呼叫</string>
+  <string name="invalidPsw">输入 4 到 8 位数字的密码。</string>
+  <string name="psw_reenter_new">重新输入新密码</string>
+  <string name="cb_psw_dont_match">密码不匹配！</string>
+  <string name="operation_successfully">操作成功！</string>
+  <string name="emergency_call_list_title">紧急电话</string>
+  <string name="emergency_call">拨打紧急电话</string>
+  <string name="new_emergency_number">添加紧急电话</string>
+  <string name="emergency_call_number">紧急电话号码</string>
+  <string name="emergency_number_exist">紧急电话已存在!</string>
+  <string name="emergency_number_save_error">紧急电话号码太长!</string>
+  <string name="ipcall_sub_title">IP电话设置</string>
+  <string name="ipcall_sub_summery">修改IP电话前缀</string>
+  <string name="ipcall_dialog_title">IP电话设置</string>
+  <string name="ipcall_dialog_edit_hint">请输入IP电话前缀</string>
+  <string name="notification_missedVideoCallTitle">未接可视电话</string>
+  <string name="notification_missedVideoCallsTitle">未接可视电话</string>
+  <string name="notification_missedVideoCallsMsg"><ns0:g id="num_missed_calls">%1$s</ns0:g>个未接可视电话</string>
+  <string name="notification_missedVideoCallTicker">未接可视电话来自<ns0:g id="missed_call_from">%1$s</ns0:g></string>
   <string name="preferred_network_mode_dialogtitle_cmcc">网络模式</string>
-  <string name="preferred_network_mode_4g_3g_2g_auto_summary">4G/3G/2G （自动）</string>
-  <string name="preferred_network_mode_3g_2g_auto_summary">3G/2G （自动） </string>
+  <string name="preferred_network_mode_4g_3g_2g_auto_summary">4G/3G/2G (自动)</string>
+  <string name="preferred_network_mode_3g_2g_auto_summary">3G/2G (自动)</string>
   <string name="CFActivate">激活</string>
-  <string name="CFDeactivate">停用</string>
-  <string name="labelCFDeactAll">全部停用</string>
-  <string name="uplmn_list_setting_title">首选网络</string>
+  <string name="CFDeactivate">禁用</string>
+  <string name="labelCFDeactAll">全部禁用</string>
+  <string name="uplmn_list_setting_title">偏好设置</string>
   <string name="network_id">网络 ID</string>
   <string name="dialog_network_priority_title">优先级</string>
-  <string name="uplmn_list_setting_add_plmn">新的 PLMN</string>
+  <string name="uplmn_list_setting_add_plmn">新增 PLMN</string>
   <string name="gsm_umts_network_preferences_title">网络模式</string>
   <string name="gsm_umts_network_preferences_dialogtitle">网络模式</string>
   <string name="label_nsdp">SIM 卡网络子集解锁 PIN</string>
@@ -148,7 +132,7 @@
   <string name="label_rspdp">RUIM 服务提供商解锁 PIN</string>
   <string name="label_rdp">RUIM 解锁 PIN 码</string>
   <string name="label_puk">输入 PUK 码</string>
-  <string name="requesting_unlock_cm">正在请求 SIM 卡网络解锁\u2026</string>
+  <string name="requesting_unlock_cm">请求SIM卡网络解锁\u2026</string>
   <string name="requesting_nw_subset_unlock">正在请求 SIM 卡网络子集解锁\u2026</string>
   <string name="requesting_sp_unlock">正在请求 SIM 卡服务提供商解锁\u2026</string>
   <string name="requesting_corporate_unlock">正在请求 SIM 卡企业解锁\u2026</string>
@@ -160,7 +144,7 @@
   <string name="requesting_rc_unlock">正在请求 RUIM 企业解锁\u2026</string>
   <string name="requesting_ruim_unlock">正在请求 RUIM 解锁\u2026</string>
   <string name="requesting_puk_unlock">正在请求 PUK 解锁\u2026</string>
-  <string name="unlock_failed_cm">SIM 卡网络解锁请求不成功。</string>
+  <string name="unlock_failed_cm">SIM卡网络解锁请求失败.</string>
   <string name="nw_subset_unlock_failed">SIM 卡网络子集解锁请求不成功。</string>
   <string name="sp_unlock_failed">SIM 卡服务提供商解锁请求不成功。</string>
   <string name="corporate_unlock_failed">SIM 卡企业解锁请求不成功。</string>
@@ -172,7 +156,7 @@
   <string name="rc_unlock_failed">RUIM 企业解锁请求不成功。</string>
   <string name="ruim_unlock_failed">RUIM 解锁请求不成功。</string>
   <string name="puk_unlock_failed">PUK 码解锁不成功。</string>
-  <string name="unlock_success_cm">SIM 卡网络解锁成功。</string>
+  <string name="unlock_success_cm">SIM卡网络解锁成功.</string>
   <string name="nw_subset_unlock_success">SIM 卡网络子集解锁成功。</string>
   <string name="sp_unlock_success">SIM 卡服务提供商解锁成功。</string>
   <string name="corporate_unlock_success">SIM 卡企业解锁成功。</string>
@@ -187,7 +171,7 @@
   <string name="stk_cc_ss_to_dial_error">SS 请求已修改为 DIAL 请求。</string>
   <string name="stk_cc_ss_to_ussd_error">SS 请求已修改为 USSD 请求。</string>
   <string name="stk_cc_ss_to_ss_error">SS 请求已修改为新的 SS 请求。</string>
-  <string name="preferred_network_mode_global_summary_cm">首选网络模式：全球 (CDMA/EvDo/LTE/GSM/WCDMA)</string>
+  <string name="preferred_network_mode_global_summary_cm">首选网络模式: 全部 (CDMA/EvDo/LTE/GSM/WCDMA)</string>
   <string name="preferred_network_mode_td_scdma_only_summary">首选网络模式：仅 TD-SCDMA</string>
   <string name="preferred_network_mode_td_scdma_wcdma_summary">首选网络模式：TD-SCDMA/WCDMA</string>
   <string name="preferred_network_mode_td_scdma_lte_summary">首选网络模式：TD-SCDMA/LTE</string>
@@ -279,6 +263,7 @@
   <string name="deact_all_sub_not_supported">不支持停用所有的订阅。</string>
   <string name="set_sub_not_supported_phone_in_call">在通话期间不允许激活或停用订阅。</string>
   <string name="disconnect_data_confirm">需要暂时断开数据服务连接。您确定要继续吗？</string>
-  <string name="simContacts_title_cm">管理 SIM 卡联系人</string>
-  <string name="sip_accounts_title_cm">SIP 帐户</string>
-</resources>
+  <string name="simContacts_title_cm">关闭SIM卡联系人</string>
+  <string name="sip_accounts_title_cm">SIP帐号</string>
+  <string name="call_settings_title_font_family">sans-serif-light</string>
+  </resources>
\ No newline at end of file
diff --git a/res/values-zh-rCN/strings.xml b/res/values-zh-rCN/strings.xml
index 1b9b69e..6e01d9b 100644
--- a/res/values-zh-rCN/strings.xml
+++ b/res/values-zh-rCN/strings.xml
@@ -287,6 +287,10 @@
     <string name="multi_category_disable" msgid="880104702904139505">"已停用多类别"</string>
     <string name="network_lte" msgid="7702681952521375754">"LTE（建议）"</string>
     <string name="network_4G" msgid="2723512640529983138">"4G（建议）"</string>
+    <string name="network_3G">WCDMA  (3G)</string>
+    <string name="network_2G">GSM    (2G)</string>
+    <string name="network_1x">CDMA   (2G)</string>
+    <string name="network_cdma">CDMA   (自动)</string>
     <string name="network_global" msgid="1323190488685355309">"通用"</string>
     <string name="cdma_system_select_title" msgid="5757657769327732833">"系统选择"</string>
     <string name="cdma_system_select_summary" msgid="60460043745797517">"更改 CDMA 漫游模式"</string>
diff --git a/res/values/strings.xml b/res/values/strings.xml
index 462a9fa..2451353 100644
--- a/res/values/strings.xml
+++ b/res/values/strings.xml
@@ -532,9 +532,10 @@
 
     <string name="network_lte">LTE (recommended)</string>
     <string name="network_4G">4G (recommended)</string>
-    <string name="network_3G" translatable="false">3G</string>
-    <string name="network_2G" translatable="false">2G</string>
-    <string name="network_1x" translatable="false">1x</string>
+    <string name="network_3G">3G</string>
+    <string name="network_2G">2G</string>
+    <string name="network_1x">1x</string>
+    <string name="network_cdma">CDMA</string>
     <string name="network_global">Global</string>
 
     <string-array name="enabled_networks_except_gsm_choices" translatable="false">
@@ -553,10 +554,16 @@
     <string-array name="enabled_networks_except_lte_choices" translatable="false">
         <item>@string/network_3G</item>
         <item>@string/network_2G</item>
+        <item>@string/network_1x</item>
+        <item>@string/network_cdma</item>
+        <item>@string/network_global</item>
     </string-array>
     <string-array name="enabled_networks_except_lte_values" translatable="false">
         <item>"0"</item>
         <item>"1"</item>
+        <item>"5"</item>
+        <item>"4"</item>
+        <item>"10"</item>
     </string-array>
 
     <string-array name="enabled_networks_except_gsm_lte_choices" translatable="false">
@@ -570,21 +577,29 @@
         <item>@string/network_lte</item>
         <item>@string/network_3G</item>
         <item>@string/network_2G</item>
+        <item>@string/network_1x</item>
+        <item>@string/network_cdma</item>
+        <item>@string/network_global</item>
     </string-array>
     <string-array name="enabled_networks_4g_choices" translatable="false">
         <item>@string/network_4G</item>
         <item>@string/network_3G</item>
         <item>@string/network_2G</item>
+        <item>@string/network_1x</item>
+        <item>@string/network_cdma</item>
     </string-array>
     <string-array name="enabled_networks_values" translatable="false">
         <item>"9"</item>
         <item>"0"</item>
         <item>"1"</item>
+        <item>"5"</item>
+        <item>"4"</item>
+        <item>"10"</item>
     </string-array>
 
     <string-array name="enabled_networks_cdma_choices" translatable="false">
         <item>@string/network_lte</item>
-        <item>@string/network_3G</item>
+        <item>@string/network_cdma</item>
         <item>@string/network_1x</item>
         <item>@string/network_global</item>
     </string-array>
@@ -629,6 +644,9 @@
     <string-array name="cdma_subscription_values">
         <item>"0"</item>
         <item>"1"</item>
+        <item>"5"</item>
+        <item>"4"</item>
+        <item>"10"</item>
     </string-array>
     <!-- Preference title with which users can activate CDMA network [CHAR LIMIT=30] -->
     <string name="cdma_activate_device">Activate device</string>
diff --git a/src/com/android/phone/MobileNetworkSettings.java b/src/com/android/phone/MobileNetworkSettings.java
index cbb8f22..fb85e82 100644
--- a/src/com/android/phone/MobileNetworkSettings.java
+++ b/src/com/android/phone/MobileNetworkSettings.java
@@ -869,7 +869,7 @@ public class MobileNetworkSettings extends PreferenceActivity
             case Phone.NT_MODE_EVDO_NO_CDMA:
                 mButtonEnabledNetworks.setValue(
                         Integer.toString(Phone.NT_MODE_CDMA));
-                mButtonEnabledNetworks.setSummary(R.string.network_3G);
+                mButtonEnabledNetworks.setSummary(R.string.network_cdma);
                 break;
             case Phone.NT_MODE_CDMA_NO_EVDO:
                 mButtonEnabledNetworks.setValue(
-- 
1.9.1

